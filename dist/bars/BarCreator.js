import StateManager from"../StateManager.js";import Utils from"../utils/Utils.js";export default class BarCreator{constructor(t,e=100,a){this.stateManager=a,this.default_size=e,this.barsContainer=t,this.initBars(),window.addEventListener("resize",(()=>this.initBars()))}resize(t=100){this.default_size=t,this.stateManager.getState()||this.initBars()}initBars(){this.state=this.stateManager.getState(),this.state||(this.stateManager.setState(!0),this.barsContainer.innerHTML="",this.barElements=[],this.calculateDim(),this.array=this.populateArray(),this.array.forEach(((t,e)=>this.createBar(t,e))),this.stateManager.setArray(this.array),this.stateManager.setBarElements(this.barElements),this.stateManager.setState(!1))}createBar(t,e){const a=document.createElement("div");a.className="bar",a.id=`bar-${e}`,a.style.setProperty("height",`${t}px`),a.style.setProperty("width",`${this.maxWidth}%`),this.barsContainer.appendChild(a),this.barElements.push(a)}populateArray(){return Array.from({length:this.size},(()=>Utils.randomInt(10,this.maxHeight)))}calculateDim(){this.size=this.getSize(this.default_size),this.maxHeight=this.barsContainer.clientHeight,this.maxWidth=Math.floor(this.barsContainer.clientWidth/this.size)}getSize(t){return Math.min(t,Math.floor(this.barsContainer.clientWidth/3))}}
//# sourceMappingURL=BarCreator.js.map